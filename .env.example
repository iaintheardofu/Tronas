# Texas PIA Request Automation System - Environment Configuration
# Copy this file to .env and fill in your values

# ===========================================
# Application Settings
# ===========================================
APP_NAME="Texas PIA Request Automation System"
APP_VERSION=1.0.0
DEBUG=false
API_V1_PREFIX=/api/v1

# ===========================================
# Database Configuration
# ===========================================
# PostgreSQL connection string
DATABASE_URL=postgresql+asyncpg://postgres:postgres@db:5432/pia_db
DATABASE_ECHO=false

# ===========================================
# Redis Configuration
# ===========================================
# Redis for Celery task queue and caching
REDIS_URL=redis://redis:6379/0

# ===========================================
# Security
# ===========================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
# REQUIRED in production - minimum 32 characters
SECRET_KEY=your-secret-key-change-in-production

# JWT token expiration
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ===========================================
# CORS Configuration
# ===========================================
# Comma-separated list of allowed origins
CORS_ORIGINS=["http://localhost:3000","http://localhost:5173"]

# ===========================================
# Microsoft Azure AD / Entra ID
# ===========================================
# Required for Microsoft 365 integration
AZURE_TENANT_ID=your-tenant-id
AZURE_CLIENT_ID=your-client-id
AZURE_CLIENT_SECRET=your-client-secret
AZURE_AUTHORITY=https://login.microsoftonline.com

# ===========================================
# Azure Storage (optional - for blob storage)
# ===========================================
AZURE_STORAGE_CONNECTION_STRING=
AZURE_STORAGE_CONTAINER=pia-documents

# ===========================================
# OpenAI / Azure OpenAI
# ===========================================
# For document classification
OPENAI_API_KEY=your-openai-api-key

# Optional: Use Azure OpenAI instead of OpenAI
AZURE_OPENAI_ENDPOINT=
AZURE_OPENAI_API_KEY=
AZURE_OPENAI_DEPLOYMENT=gpt-4

# ===========================================
# Model Settings
# ===========================================
CLASSIFICATION_MODEL=gpt-4
EMBEDDING_MODEL=text-embedding-3-small

# ===========================================
# File Upload Settings
# ===========================================
UPLOAD_DIR=uploads
MAX_FILE_SIZE_MB=100

# ===========================================
# Email Notifications (optional)
# ===========================================
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=pia-automation@city.local

# ===========================================
# Texas PIA Settings
# ===========================================
# Response deadline in business days (default: 10 per Texas law)
PIA_RESPONSE_DEADLINE_DAYS=10
# AG ruling deadline in calendar days
PIA_AG_RULING_DEADLINE_DAYS=45
# Maximum extension days
PIA_EXTENSION_MAX_DAYS=10

# ===========================================
# Processing Settings
# ===========================================
# Documents above this threshold trigger large request handling
LARGE_REQUEST_THRESHOLD_PAGES=5000
# Batch size for bulk operations
BATCH_SIZE=100
